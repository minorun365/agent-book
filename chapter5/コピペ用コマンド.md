# P.161

```
mkdir /workspaces/mastra_practice/chapter5-handson1
cd /workspaces/mastra_practice/chapter5-handson1
```

```
npm init -y
npm install typescript@5.9.2 tsx@4.20.5 @types/node@20 --save-dev
npm install @mastra/core@0.15.2 mastra@0.11.3 @ai-sdk/amazon-bedrock@3.0.13
```

# P.163

```
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-west-2
```

# P.164

```
rm src/mastra/agents/*
rm src/mastra/tools/*
rm src/mastra/workflows/*
```

# P.185

```
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxx
```

# P.196

```
# ディレクトリを移動
cd /workspaces/mastra_practice

# 不要なディレクトリを削除
rm -rf /workspaces/mastra_practice/chapter5-handson1/node_modules
rm -rf /workspaces/mastra_practice/.vscode

# ディレクトリ内を空にするため、ファイルを退避
mv /workspaces/mastra_practice/chapter5-handson1/ /workspaces
mv /workspaces/mastra_practice/* /workspaces
mv /workspaces/mastra_practice/.env /workspaces
mv /workspaces/mastra_practice/.gitignore /workspaces

# Next.jsの初期化を実施
npx create-next-app@15.3.4 /workspaces/mastra_practice
```

# P.197

```
# Mastra関連のライブラリをインストール
npm install mastra@0.11.3 @mastra/core@0.15.2 @ai-sdk/amazon-bedrock@3.0.13

# Mastraの初期化
npx mastra@0.11.3 init
```

# P.199

```
# mastra initで追加されたファイルを削除する
rm -rf src/mastra*

# 5-2ハンズオンで作成したMastraファイル一式をコピーする
cp -r /workspaces/chapter5-handson1/src/mastra src

# .envファイルもコピーする
cp -r /workspaces/chapter5-handson1/.env ./
```

# P.205

```
curl -X POST http://localhost:3000/api/workflow/execute \
    -H "Content-Type: application/json" \
    -d '{
        "query": "AIについての情報",
        "owner": "your-orgs",
        "repo": "mastra_practice"
    }' | jq
```

# P.225

```
cd /workspaces/mastra_practice
npm install aws-amplify@6.15.5 @aws-amplify/ui-react@6.12.0 @aws-amplify/adapter-nextjs@1.6.8 aws-cdk-lib@2.20 4.0 @aws-sdk/credential-providers@3.876.0
```

# P.226

```
npm create amplify
```

# P.227

```
#.envの環境変数をターミナルに設定（コメント行は無視）
export $(cat /workspaces/mastra_practice/.env | grep -v ^# | xargs)

# Amplifyのサンドボックス環境を起動
cd /workspaces/mastra_practice
npx ampx sandbox
```

# P.238

```
# 全ファイルをステージングに
git add .

# Gitコミット
git commit -m "本番環境にデプロイ"

# Gitプッシュ
git push origin main
```

# P.243

```
#.envの環境変数をターミナルに設定（コメント行は無視）
export $(cat /workspaces/mastra_practice/.env | grep -v ^# | xargs)

# Amplifyのサンドボックス環境を削除
npx ampx sandbox delete
```